{"version":3,"file":"4.f41a8d886c7aa61b28fd.hot-update.js","sources":["webpack:///store/reducers.js"],"sourcesContent":["import C from '../constants'\n\nexport const products = (state = {}, action) => {\n\n    switch (action.type) {\n\n        case C.REVIEW_PRODUCT:\n            state = state.map(item => {\n                item.asin === action.asin ? item.reviews.push(action.review) : null\n                return item\n            })\n            return state\n\n        case C.CHANGE_INIT_STATE:\n            return action.state.products\n\n        default:\n            return state\n    }\n}\n\nexport const customerMeta = (state = {}, action) => {\n\n    switch (action.type) {\n\n        case C.BUY_PRODUCT:\n            state.productsBought.push({\n                asin: action.asin,\n            })\n            return state\n\n        case C.REVIEW_PRODUCT:\n            state.productsBought = state.productsBought.map(item => {\n\n                item.asin === action.asin ? item.review = action.review : null\n                return item\n            })\n            return state\n\n        case C.COMPLAINT_PRODUCT:\n            state.productsBought = state.productsBought.map(item => {\n\n                item.asin === action.asin ? item.complaint = {\n                    placedOn: new Date(),\n                    issue: action.complaint,\n                    onGoing: true,\n                    isNew: true,\n                    complaintId: action.complaintId\n                } : null\n\n                return item\n            })\n            return state\n\n        case C.COMPLAINT_FEEDBACK:\n            state.productsBought = state.productsBought.map(item => {\n\n                if (item.asin === action.asin) {\n                    item.complaint.feedbackRating = action.rating\n                    item.complaint.onGoing = false\n                }\n\n                return item\n            })\n            return state\n\n        case C.CHANGE_INIT_STATE:\n            return action.state.customerMeta\n\n        default:\n            return state\n    }\n}\n\nexport const customerML = (state = {}, action) => {\n\n    switch (action.type) {\n\n        case C.BUY_PRODUCT:\n            state['c' + action.categories] -= 1\n            state['p' + action.categories] += 1\n            return state\n\n        case C.VIEW_PRODUCT:\n            state['c' + action.categories] += 1\n            state.isAltered = true\n            return state\n\n        case C.REVIEW_PRODUCT:\n            state.reviewCount += 1\n            state.reviewSentiment = action.score\n            return state\n\n        case C.COMPLAINT_FEEDBACK:\n            state.feedbackCount += 1\n            state.serviceFeedbackSentiment = (state.serviceFeedbackSentiment + action.rating) / state.feedbackCount\n            return state\n\n        case C.CHANGE_INIT_STATE:\n            return action.state.customerML\n\n        default:\n            return state\n    }\n}\n\n\n// WEBPACK FOOTER //\n// store/reducers.js"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AAiDA;AAEA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AA4BA;;;;A","sourceRoot":""}